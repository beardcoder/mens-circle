---
interface Props {
  eyebrow?: string;
  title?: string;
  intro?: string;
  items: { question: string; answer: string }[];
}

const { eyebrow, title, intro, items } = Astro.props;

// FAQ Schema.org Structured Data
const faqSchema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: items.map((item) => ({
    '@type': 'Question',
    name: item.question,
    acceptedAnswer: {
      '@type': 'Answer',
      text: item.answer,
    },
  })),
};
---

<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<section class="section section--large faq-section" id="faq">
  <div class="container">
    <div class="faq__layout">
      <div class="faq__header fade-in">
        {eyebrow && <p class="eyebrow">{eyebrow}</p>}

        {title && <h2 class="section-title faq__title" set:html={title} />}

        {intro && <p class="faq__intro">{intro}</p>}
      </div>

      <div class="faq__list fade-in fade-in-delay-1">
        {
          items.map((item) => (
            <details class="faq-item" name="faq-accordion">
              <summary class="faq-item__question">
                <span>{item.question}</span>
                <span class="faq-item__icon" aria-hidden="true" />
              </summary>
              <div class="faq-item__answer">
                <div class="faq-item__answer-inner" set:html={item.answer} />
              </div>
            </details>
          ))
        }
      </div>
    </div>
  </div>
</section>
