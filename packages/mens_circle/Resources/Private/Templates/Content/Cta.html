<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:variable name="buttonLabel">
    <f:if condition="{flexFormData.settings.buttonLabel}">
        <f:then>{flexFormData.settings.buttonLabel}</f:then>
        <f:else>Jetzt teilnehmen</f:else>
    </f:if>
</f:variable>
<f:variable
    name="useNextEventLink"
    value="{nextEvent.url} && ({buttonLabel} == 'NÃ¤chster Termin' || {buttonLabel} == 'Naechster Termin' || {data.header_link} == '/event' || {data.header_link} == '/event/')"
/>
<section class="section section--lg cta-section">
    <div class="container">
        <div class="cta__content fade-in">
            <f:if condition="{data.subheader}">
                <p class="eyebrow">{data.subheader}</p>
            </f:if>

            <f:if condition="{data.header}">
                <h2 class="section-title cta__title">
                    <f:format.raw>{data.header}</f:format.raw>
                </h2>
            </f:if>

            <f:if condition="{data.bodytext}">
                <div class="cta__text">
                    <f:format.raw>{data.bodytext}</f:format.raw>
                </div>
            </f:if>

            <f:if condition="{data.header_link} || {useNextEventLink}">
                <f:if condition="{useNextEventLink}">
                    <f:then>
                        <a href="{nextEvent.url}" class="btn btn--primary btn--lg">{buttonLabel}</a>
                    </f:then>
                    <f:else>
                        <f:link.typolink parameter="{data.header_link}" class="btn btn--primary btn--lg">{buttonLabel}</f:link.typolink>
                    </f:else>
                </f:if>
            </f:if>
        </div>
    </div>
</section>
</html>
