<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:mc="http://typo3.org/ns/BeardCoder/MensCircle/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="main">
    <article class="event-detail" itemscope itemtype="https://schema.org/Event">
        <!-- Event Hero Section -->
        <section class="event-hero hero">
            <f:if condition="{event.eventImage}">
                <div class="hero__bg">
                    <f:image image="{event.eventImage}"
                             class="hero__bg-image"
                             alt="{event.title}"
                             width="1200"
                             height="630"
                             loading="eager" />
                </div>
            </f:if>

            <div class="hero__circles" aria-hidden="true">
                <div class="hero__circle hero__circle--1"></div>
                <div class="hero__circle hero__circle--2"></div>
                <div class="hero__circle hero__circle--3"></div>
                <div class="hero__circle hero__circle--4"></div>
            </div>

            <div class="container">
                <div class="hero__content">
                    <h1 class="hero__title" itemprop="name">{event.title}</h1>
                </div>
            </div>
        </section>

        <!-- Event Info Section -->
        <section class="event-info-section">
            <div class="container">
                <div class="event-info__grid">
                    <div class="event-info__card">
                        <h3>Datum & Zeit</h3>
                        <div class="event-info__card-value">
                            <time datetime="{event.eventDate -> f:format.date(format: 'c')}" itemprop="startDate">
                                <f:format.date format="d. F Y">{event.eventDate}</f:format.date>
                            </time>
                        </div>
                        <div class="event-info__card-sub">
                            <f:format.date format="H:i">{event.eventDate}</f:format.date> Uhr
                            <f:if condition="{event.eventEndDate}">
                                - <f:format.date format="H:i">{event.eventEndDate}</f:format.date> Uhr
                            </f:if>
                        </div>
                        <div class="event-info__card-circle"></div>
                    </div>

                    <div class="event-info__card">
                        <h3>Ort</h3>
                        <div class="event-info__card-value" itemprop="location">{event.location}</div>
                        <div class="event-info__card-circle"></div>
                    </div>

                    <div class="event-info__card">
                        <h3>Teilnehmer</h3>
                        <div class="event-info__card-value">
                            {event.activeRegistrationsCount} / {event.maxParticipants}
                        </div>
                        <div class="event-info__card-sub">
                            <mc:eventStatus event="{event}" />
                        </div>
                        <div class="event-info__card-circle"></div>
                    </div>

                    <div class="event-info__card">
                        <h3>Status</h3>
                        <div class="event-info__card-value">
                            <f:if condition="{isPast}">
                                <f:then>Vergangen</f:then>
                                <f:else>
                                    <f:if condition="{isFull}">
                                        <f:then>Ausgebucht</f:then>
                                        <f:else>VerfÃ¼gbar</f:else>
                                    </f:if>
                                </f:else>
                            </f:if>
                        </div>
                        <div class="event-info__card-circle"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Event About/Description Section -->
        <section class="event-about-section">
            <div class="event-about__layout">
                <div class="event-about__content">
                    <p class="eyebrow fade-in">Details</p>
                    <h2 class="section-title event-about__title fade-in fade-in-delay-1">
                        Ãœber diese <span class="text-italic">Veranstaltung</span>
                    </h2>
                    <div class="event-about__text fade-in fade-in-delay-2" itemprop="description">
                        <f:format.html>{event.description}</f:format.html>
                    </div>
                </div>

                <div class="event-about__visual">
                    <div class="event-about__quote-area">
                        <div class="event-about__circles">
                            <div class="event-about__circle event-about__circle--1"></div>
                            <div class="event-about__circle event-about__circle--2"></div>
                            <div class="event-about__circle event-about__circle--3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registration Section -->
        <f:if condition="{isPast}">
            <f:then>
                <section class="event-cta-section">
                    <div class="container">
                        <div class="event-cta__circles">
                            <div class="event-cta__circle event-cta__circle--1"></div>
                            <div class="event-cta__circle event-cta__circle--2"></div>
                        </div>
                        <div class="event-cta__content">
                            <p class="eyebrow eyebrow--secondary">Veranstaltung beendet</p>
                            <h2 class="section-title event-cta__title section-title--lg section-title--light">
                                Diese Veranstaltung hat bereits <span class="text-italic">stattgefunden</span>
                            </h2>
                        </div>
                    </div>
                </section>
            </f:then>
            <f:else>
                <f:if condition="{isFull}">
                    <f:then>
                        <section class="event-cta-section">
                            <div class="container">
                                <div class="event-cta__circles">
                                    <div class="event-cta__circle event-cta__circle--1"></div>
                                    <div class="event-cta__circle event-cta__circle--2"></div>
                                </div>
                                <div class="event-cta__content">
                                    <p class="eyebrow eyebrow--secondary">Ausgebucht</p>
                                    <h2 class="section-title event-cta__title section-title--lg section-title--light">
                                        Diese Veranstaltung ist bereits <span class="text-italic">ausgebucht</span>
                                    </h2>
                                </div>
                            </div>
                        </section>
                    </f:then>
                    <f:else>
                        <f:render partial="Event/RegistrationSection" arguments="{event: event}" />
                    </f:else>
                </f:if>
            </f:else>
        </f:if>
    </article>
</f:section>

</html>
