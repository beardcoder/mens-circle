[mysqld]
# -------------------------------------------------------
# Low-memory MariaDB configuration for Coolify deployment
# Targets ~100-150 MB total RAM usage
# -------------------------------------------------------

# InnoDB tuning for low memory
innodb_buffer_pool_size = 64M
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT

# Connection limits
max_connections = 20
thread_cache_size = 4

# Buffer sizes
key_buffer_size = 8M
tmp_table_size = 16M
max_heap_table_size = 16M
sort_buffer_size = 256K
read_buffer_size = 256K
read_rnd_buffer_size = 512K
join_buffer_size = 256K

# Table cache
table_open_cache = 128
table_definition_cache = 256

# Performance schema off to save memory
performance_schema = OFF

# Charset
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# Skip DNS resolution for faster connections
skip-name-resolve

[client]
default-character-set = utf8mb4
